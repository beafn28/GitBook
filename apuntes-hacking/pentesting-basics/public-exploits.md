# Public Exploits

## Encontrar exploits públicos

Existen muchas herramientas que pueden ayudarnos a buscar exploits públicos para las distintas aplicaciones y servicios que podamos encontrar durante la fase de enumeración. Una forma de hacerlo es buscar en Google el nombre de la aplicación para `exploit`ver si obtenemos algún resultado.

Una herramienta muy conocida para este fin es `searchsploit`, con la que podemos buscar vulnerabilidades/exploits públicos para cualquier aplicación.

```
searchsploit openssh 7.2
```

También podemos utilizar bases de datos de exploits en línea para buscar vulnerabilidades, como [Exploit DB](https://www.exploit-db.com/) , [Rapid7 DB](https://www.rapid7.com/db/) o [Vulnerability Lab](https://www.vulnerability-lab.com/) .&#x20;

## Introducción a Metasploit

Metasploit Framework (MSF) es una excelente herramienta para los pentesters. Contiene muchos exploits integrados para muchas vulnerabilidades públicas y proporciona una forma sencilla de utilizar estos exploits contra objetivos vulnerables. MSF tiene muchas otras funciones, como:

* Ejecutar scripts de reconocimiento para enumerar hosts remotos y objetivos comprometidos
* Scripts de verificación para probar la existencia de una vulnerabilidad sin comprometer realmente el objetivo
* Meterpreter, que es una gran herramienta para conectarse a shells y ejecutar comandos en los objetivos comprometidos
* Muchas herramientas de post-explotación y pivoteo

Tomemos un ejemplo básico de búsqueda de un exploit para una aplicación que estamos atacando y cómo explotarlo.

```bash
msfconsole
```

Una vez que lo tengamos `Metasploit`en ejecución, podemos buscar nuestra aplicación de destino con el `search exploit.`

Encontramos un exploit para este servicio. Podemos usarlo copiando el nombre completo y usando `use.`

Antes de poder ejecutar el exploit, debemos configurar sus opciones. Para ver las opciones disponibles para configurar, podemos utilizar el `show options`

Cualquier opción que `Required`tenga establecida la opción `yes`debe estar establecida para que el exploit funcione. En este caso, solo tenemos dos opciones para establecer: `RHOSTS`, que significa la IP de nuestro objetivo (puede ser una IP, varias IP o un archivo que contenga una lista de IP). La segunda opción, `LHOST`, representa la IP de nuestro host de ataque (puede ser una única IP o el nombre de una interfaz de red. En el ejemplo siguiente, `LHOST`se establece en la IP asociada con nuestra `tun0`interfaz).

```bash
 set RHOSTS 10.10.10.40
 set LHOST tun0
```

Una vez que tengamos ambas opciones configuradas, podemos comenzar la explotación. Sin embargo, antes de ejecutar el script, podemos realizar una comprobación para asegurarnos de que el servidor sea vulnerable con el comando `check`

Cuando podamos ver, el servidor es vulnerable. Tenga en cuenta que no todos los exploits admiten la función `check` del **Metasploit Framework**. Por último, podemos utilizar el comando `run` o `exploit` para ejecutar el exploit.

### Máquinas para prácticar en HTB

* Granny/Grandpa
* Jerry
* Blue
* Lame
* Optimum
* Legacy
* Devel
