# Information Gathering - Web Edition

## Introducción

La **reconocimiento web** es la base de una evaluación de seguridad exhaustiva. Este proceso implica la recopilación sistemática y meticulosa de información sobre un sitio web o aplicación web objetivo. Piensa en ello como la fase preparatoria antes de profundizar en un análisis más detallado y posible explotación. Forma parte crítica de la fase de "Recopilación de Información" en el proceso de Pruebas de Penetración (_Penetration Testing_).

<figure><img src="../../.gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>

### Objetivos Principales del Reconocimiento Web

1. **Identificar Activos**: Descubrir todos los componentes públicamente accesibles del objetivo, como páginas web, subdominios, direcciones IP y tecnologías utilizadas. Este paso proporciona una visión general completa de la presencia en línea del objetivo.
2. **Descubrir Información Oculta**: Localizar información sensible que podría estar expuesta de manera inadvertida, incluyendo archivos de respaldo, archivos de configuración o documentación interna. Estos hallazgos pueden revelar puntos de entrada valiosos para ataques.
3. **Analizar la Superficie de Ataque**: Examinar la superficie de ataque del objetivo para identificar posibles vulnerabilidades y debilidades. Esto implica evaluar las tecnologías utilizadas, configuraciones y posibles puntos de entrada para la explotación.
4. **Recopilar Inteligencia**: Reunir información que pueda aprovecharse para una explotación posterior o ataques de ingeniería social. Esto incluye la identificación de personal clave, direcciones de correo electrónico o patrones de comportamiento que podrían ser explotados.

Los atacantes aprovechan esta información para adaptar sus ataques, permitiéndoles enfocarse en debilidades específicas y evadir las medidas de seguridad. Por otro lado, los defensores utilizan el reconocimiento para identificar proactivamente y corregir vulnerabilidades antes de que los actores maliciosos puedan explotarlas.

## Tipos de Reconocimiento

El reconocimiento web abarca dos metodologías fundamentales: **reconocimiento activo** y **reconocimiento pasivo**. Cada enfoque ofrece ventajas y desafíos distintos, y entender sus diferencias es crucial para una recopilación de información adecuada.

### **Reconocimiento Activo**

En el reconocimiento activo, el atacante interactúa directamente con el sistema objetivo para recopilar información. Esta interacción puede tomar varias formas:

| **Técnica**                     | **Descripción**                                                                                | **Ejemplo**                                                                                                                         | **Herramientas**                            | **Riesgo de Detección**                                                                           |
| ------------------------------- | ---------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| **Escaneo de Puertos**          | Identificar puertos abiertos y servicios que se ejecutan en el objetivo.                       | Usar Nmap para escanear un servidor web en busca de puertos abiertos como el 80 (HTTP) y 443 (HTTPS).                               | Nmap, Masscan, Unicornscan                  | Alto: La interacción directa puede activar sistemas de detección de intrusos (IDS) y cortafuegos. |
| **Escaneo de Vulnerabilidades** | Buscar vulnerabilidades conocidas, como software desactualizado o configuraciones incorrectas. | Ejecutar Nessus en una aplicación web para buscar fallos de inyección SQL o vulnerabilidades XSS.                                   | Nessus, OpenVAS, Nikto                      | Alto: Los escáneres de vulnerabilidades envían cargas de explotación que pueden ser detectadas.   |
| **Mapeo de Red**                | Mapear la topología de la red objetivo, incluyendo dispositivos conectados y sus relaciones.   | Usar traceroute para determinar la ruta que siguen los paquetes para llegar al servidor, revelando saltos de red e infraestructura. | Traceroute, Nmap                            | Medio a Alto: El tráfico excesivo o inusual puede levantar sospechas.                             |
| **Captura de Banners**          | Recuperar información de los banners mostrados por servicios que se ejecutan en el objetivo.   | Conectar a un servidor web en el puerto 80 y examinar el banner HTTP para identificar el software del servidor y su versión.        | Netcat, curl                                | Bajo: La captura de banners implica una interacción mínima, pero puede ser registrada.            |
| **Fingerprinting de SO**        | Identificar el sistema operativo que ejecuta el objetivo.                                      | Usar Nmap (-O) para determinar si el objetivo ejecuta Windows, Linux, u otro SO.                                                    | Nmap, Xprobe2                               | Bajo: Generalmente pasivo, pero algunas técnicas avanzadas pueden ser detectadas.                 |
| **Enumeración de Servicios**    | Determinar las versiones específicas de servicios que se ejecutan en puertos abiertos.         | Usar Nmap (-sV) para identificar si un servidor web ejecuta Apache 2.4.50 o Nginx 1.18.0.                                           | Nmap                                        | Bajo: Similar a la captura de banners, pero menos probable que active alertas.                    |
| **Spidering Web**               | Rastrear el sitio web objetivo para identificar páginas, directorios y archivos.               | Usar Burp Suite Spider para mapear la estructura de un sitio web y descubrir recursos ocultos.                                      | Burp Suite Spider, OWASP ZAP Spider, Scrapy | Bajo a Medio: Puede ser detectado si el comportamiento del rastreador no imita tráfico legítimo.  |

El reconocimiento activo proporciona una visión más directa y a menudo más completa de la infraestructura y la postura de seguridad del objetivo. Sin embargo, también conlleva un mayor riesgo de detección, ya que las interacciones pueden activar alertas o levantar sospechas.

### **Reconocimiento Pasivo**

En contraste, el reconocimiento pasivo implica la recopilación de información sobre el objetivo sin interactuar directamente con él. Esto se basa en el análisis de información pública disponible y recursos, como:

| **Técnica**                          | **Descripción**                                                                                                                                      | **Ejemplo**                                                                                                                                     | **Herramientas**                                                              | **Riesgo de Detección**                                                                                  |
| ------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| **Consultas en Motores de Búsqueda** | Utilizar motores de búsqueda para descubrir información sobre el objetivo, incluidos sitios web, perfiles en redes sociales y artículos de noticias. | Buscar en Google "\[Nombre del Objetivo] empleados" para encontrar información de empleados o perfiles en redes sociales.                       | Google, DuckDuckGo, Bing, motores de búsqueda especializados (p. ej., Shodan) | Muy Bajo: Las consultas en motores de búsqueda son actividades normales y no suelen activar alertas.     |
| **Consultas WHOIS**                  | Consultar bases de datos WHOIS para recuperar detalles de registro de dominios.                                                                      | Realizar una consulta WHOIS en un dominio objetivo para encontrar el nombre del registrante, información de contacto y servidores de nombres.   | Herramienta de línea de comandos whois, servicios de consulta WHOIS en línea  | Muy Bajo: Las consultas WHOIS son legítimas y no levantan sospechas.                                     |
| **DNS**                              | Analizar registros DNS para identificar subdominios, servidores de correo y otra infraestructura.                                                    | Usar dig para enumerar subdominios de un dominio objetivo.                                                                                      | dig, nslookup, host, dnsenum, fierce, dnsrecon                                | Muy Bajo: Las consultas DNS son esenciales para la navegación y no suelen ser marcadas como sospechosas. |
| **Análisis de Archivos Web**         | Examinar instantáneas históricas del sitio web para identificar cambios, vulnerabilidades o información oculta.                                      | Usar Wayback Machine para ver versiones pasadas de un sitio web objetivo y observar cómo ha cambiado con el tiempo.                             | Wayback Machine                                                               | Muy Bajo: Acceder a versiones archivadas de sitios web es una actividad normal.                          |
| **Análisis de Redes Sociales**       | Recopilar información de plataformas de redes sociales como LinkedIn, Twitter o Facebook.                                                            | Buscar en LinkedIn empleados de una organización objetivo para conocer sus roles, responsabilidades y posibles blancos de ingeniería social.    | LinkedIn, Twitter, Facebook, herramientas especializadas OSINT                | Muy Bajo: Acceder a perfiles públicos en redes sociales no se considera intrusivo.                       |
| **Repositorios de Código**           | Analizar repositorios de código públicos como GitHub en busca de credenciales expuestas o vulnerabilidades.                                          | Buscar en GitHub fragmentos de código o repositorios relacionados con el objetivo que podrían contener información sensible o vulnerabilidades. | GitHub, GitLab                                                                | Muy Bajo: Los repositorios de código son de acceso público, y buscarlos no es sospechoso.                |

El reconocimiento pasivo se considera generalmente más sigiloso y menos propenso a activar alarmas que el reconocimiento activo. Sin embargo, puede proporcionar menos información, ya que depende de lo que ya esté disponible públicamente.

## Conclusión

En este módulo, profundizaremos en las herramientas y técnicas esenciales utilizadas en el reconocimiento web, comenzando con **WHOIS**. Comprender el protocolo WHOIS proporciona una puerta de acceso a información vital sobre registros de dominios, detalles de propiedad y la infraestructura digital de los objetivos. Este conocimiento fundamental sienta las bases para métodos de reconocimiento más avanzados que exploraremos más adelante.
